<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="/static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="/static/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="/static/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="/static/vendor/venobox/venobox.css" rel="stylesheet">
    <link href="/static/vendor/owl.theme.default.min.css" rel="stylesheet">
    <link href="/static/vendor/flaticon.css" rel="stylesheet">
    <link href="/static/vendor/meanmenu.min.css" rel="stylesheet">
    <link href="/static/vendor/animate.min.css" rel="stylesheet">
    <link href="/static/vendor/responsive.css" rel="stylesheet">
    <link href="/static/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
    <link href="/static/css/style1.css" rel="stylesheet">

    <title>Shop Detail</title>
</head>
<body>
    <header id="header" class="fixed-top ">
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-xl-9 d-flex align-items-center justify-content-between">
                    <h1 class="logo"><a href="{{urlfor "HomeController.Get"}}">3TrashGuitarists</a></h1>
                    <nav class="nav-menu d-none d-lg-block">
                        <ul>
                            <li><a href="{{urlfor "HomeController.Get"}}">Home</a></li>
                            <li class="drop-down"><a href="/#brand">Brand</a>
                                <ul>
                                    <li><a href="{{urlfor "FenderController.Get"}}">Fender</a></li>
                                    <li><a href="{{urlfor "SuhrController.Get"}}">Suhr</a></li>
                                    <li><a href="{{urlfor "IbanezController.Get"}}">Ibanez</a></li>
                                    <li><a href="{{urlfor "CharvelController.Get"}}">Charvel</a></li>
                                    <li><a href="{{urlfor "ESPController.Get"}}">ESP</a></li>
                                    <li><a href="{{urlfor "TAController.Get"}}">Tom Anderson</a></li>
                                </ul>
                            </li>
                            <li><a href="#Search">Search</a></li>
                            <li><a href="{{urlfor "AboutUsController.Get"}}">About Us</a></li>
                            <li><a href="{{urlfor "ContactController.Get"}}">Contact</a></li>
                            {{/*only can be seen after login*/}}
                            {{if .IsLogin}}
                                <li class="drop-down active"><a href="">{{.user_name}}</a>
                                    <ul>
                                        <li><a href="{{urlfor "MyInformationController.Get"}}">My Information</a></li>
                                        <li><a href="">Shopping Cart</a></li>
                                        <li><a href="{{urlfor "OrdersController.Get"}}">Order</a></li>
                                    </ul>
                                </li>
                            {{end}}
                        </ul>
                    </nav>
                    {{if .IsLogin}}
                        <a href="{{urlfor "ExitController.Get"}}" class="sign-in">Exit</a>
                    {{else}}
                        <a href="{{urlfor "SignInController.Get"}}" class="sign-in">Sign In</a>
                    {{end}}
                </div>
            </div>
        </div>
    </header>

    <div class="page-title-area">
        <div class="container">
            <div class="page-title-content">
                <h2>Checkout</h2>
            </div>
        </div>
    </div>

    <section class="checkout-area ptb-100">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-md-12">
                    <form id="check-out-form" method="post">
                        <div class="billing-details">
                            <h3 class="title">Billing Details</h3>
                            <div class="row">
                                <div class="col-lg-6 col-md-6">
                                    <div class="form-group">
                                        <label>First Name <span class="required">*</span></label>
                                        <input type="text" class="form-control" id="first-name">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                    <div class="form-group">
                                        <label>Last Name <span class="required">*</span></label>
                                        <input type="text" class="form-control" id="last-name">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                    <div class="form-group">
                                        <label>Email <span class="required">*</span></label>
                                        <p>{{.user.Email}}</p>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                    <div class="form-group">
                                        <label>Phone <span class="required">*</span></label>
                                        <input type="text" class="form-control" id="phone-number">
                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Company Name (Optional)
                                        </label>
                                        <input type="text" class="form-control" id="company-name">
                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-check">
                                        {{if .user.Address1}}
                                        <div href="javascript:void(0)">
                                            <input checked id="address1" name="address" type="radio" value="address1">
                                            <label for="address1"><b>Default Address</b></label>
                                            <p class="accordion-content show">
                                                {{.user.Address1}}
                                            </p>
                                        </div>
                                        {{end}}
                                        <p></p>
                                        {{if .user.Address2}}
                                        <div href="javascript:void(0)">
                                            <input id="address2" name="address" type="radio" value="address2">
                                            <label for="address2"><b>Address 2</b></label>
                                            <p class="accordion-content show">
                                                {{.user.Address2}}
                                            </p>
                                        </div>
                                        {{end}}
                                        <p></p>
                                        {{if .user.Address3}}
                                        <div href="javascript:void(0)">
                                            <input id="address3" name="address" type="radio" value="address3">
                                            <label for="address3"><b>Address 3</b></label>
                                            <p class="accordion-content show">
                                                {{.user.Address3}}
                                            </p>
                                        </div>
                                        {{end}}
                                    </div>
                                </div>

                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Order Notes (Optional)</label>
                                        <textarea name="notes" id="notes" cols="30" rows="8" class="form-control"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-lg-4 col-md-12">
                    <div class="order-details">
                        <div class="cart-totals">
                            <h3>Checkout Summary</h3>
                            <ul>
                                <li>Subtotal <span>${{.guitar.Price}} * {{.amount}}</span></li>
                                <li>Shipping <span>${{.shipping_fee}}</span></li>
                                <li>Tax <span>${{.tax}}</span></li>
                                <li><b>Total</b> <span><b>${{.total}}</b></span></li>
                            </ul>
                        </div>
                        <div class="faq-accordion">
                            <h3>Payment Method</h3>
                            <ul class="accordion">
                                <li class="accordion-item active">
                                    <div href="javascript:void(0)">
                                        <input type="radio" id="bank" name="payment" value="bank" checked>
                                        <label for="bank"><b>Direct Bank Transfer</b></label>
                                        <p class="accordion-content show">
                                            Make your payment directly into our bank account. Please use your Order ID as the
                                            payment reference. Your order won’t be shipped until the funds have reached our account.
                                        </p>
                                    </div>
                                    <p></p>
                                    <div href="javascript:void(0)">
                                        <input type="radio" id="cash" name="payment" value="cash">
                                        <label for="cash"><b>Cash on Delivery</b></label>
                                        <p class="accordion-content show" >
                                            Please prepare cash and give it to the postman.
                                        </p>
                                    </div>
                                    <p></p>
                                    <div href="javascript:void(0)">
                                        <input type="radio" id="paypal" name="payment" value="paypal">
                                        <label for="paypal"><b>PayPal</b></label>
                                        <p class="accordion-content show" >
                                            Pay via PayPal.
                                        </p>
                                    </div>
                                </li>
                                <li class="accordion-item">
                                    <div class="form-check">
                                        <input type="checkbox" class="form-check-input" id="confirm">
                                        <label class="form-check-label" for="confirm">I’ve read and accept
                                            the <a href="terms-conditions.html">terms & conditions</a>*</label>
                                    </div>
                                </li>
                                <li class="place-order">
                                    <a href="#" class="default-btn two" id="place-order">
                                        <span>Place Order</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="go-top">
        <i class="bx bx-chevrons-up"></i>
        <i class="bx bx-chevrons-up"></i>
    </div>

    <footer id="footer">
        <div class="container">
            <h3>3TrashGuitarists</h3>
            <p>We sell electric guitars, but we don't know how to play :)</p>
            <div class="social-links">
                <a href="https://twitter.com/Serene15763786 " class="twitter"><i class="bx bxl-twitter"></i></a>
                <a href="https://www.facebook.com/phoebe.bu" class="facebook"><i class="bx bxl-facebook"></i></a>
                <a href="https://www.instagram.com/WingoC23/" class="instagram"><i class="bx bxl-instagram"></i></a>
                <a href="https://github.com/SereneTo" class="github"><i class="bx bxl-github"></i></a>

            </div>

            <div class="credits"></div>
        </div>
    </footer>
    <script src="/static/vendor/jquery/jquery.min.js"></script>

    <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="/static/vendor/tempJS/meanmenu.min.js"></script>

    <script src="/static/vendor/tempJS/owl.carousel.min.js"></script>

    <script src="/static/vendor/tempJS/wow.min.js"></script>

    <script src="/static/vendor/tempJS/form-validator.min.js"></script>

    <script src="/static/vendor/tempJS/contact-form-script.js"></script>

    <script src="/static/vendor/tempJS/ajaxchimp.min.js"></script>

    <script src="/static/vendor/tempJS/range-slider.min.js"></script>

    <script src="/static/vendor/tempJS/custom.js"></script>
    <script type="text/javascript">
        function Confirm(){
            var confirm = document.getElementById("confirm").checked;
            if(confirm == true){
                document.getElementById("place-order").disabled='';
            }else{
                document.getElementById("place-order").disabled="disabled";
            }
        }

        $('#place-order').click(function() {
            var firstName = $("#first-name").val();
            var lastName = $("#last-name").val();
            var phoneNumber = $("#phone-number").val();
            var companyName = $("#company-name").val();
            var orderNotes = $("#notes").val();
            var address1Checked =  $("#address1:checked").val();
            var address2Checked =  $("#address2:checked").val();
            var address3Checked =  $("#address3:checked").val();
            var bank =  $("#bank:checked").val();
            var cash =  $("#cash:checked").val();
            var paypal =  $("#paypal:checked").val();
            console.log(firstName,lastName,phoneNumber,companyName,orderNotes,address1Checked,address2Checked,address3Checked,bank,cash,paypal)
            if (firstName == '' || lastName == '') {
                alert("Please fill the form.")
            } else if (phoneNumber == '') {
                alert("Please fill the form.")
            } else if (document.getElementById("confirm").checked == false) {
                alert("Please read and accept the terms and conditions.")
            } else {
                $.ajax({
                    type: "post",
                    url: "{{urlfor "OrdersController.Post"}}",
                    data: {
                        firstName: firstName,
                        lastName: lastName,
                        phoneNumber: phoneNumber,
                        companyName: companyName,
                        orderNotes: orderNotes,
                        address1Checked: address1Checked,
                        address2Checked: address2Checked,
                        address3Checked: address3Checked,
                        bank: bank,
                        cash: cash,
                        paypal: paypal,
                        userId: {{.user.Id}},
                        guitarId: {{.guitar.Id}},
                        amount: {{.amount}},
                        total: {{.total}}
                    },
                    dataType: 'json',
                    success: function (returndata) {
                        alert(returndata.message);
                        if(returndata.status == 1) {
                            location.href = "{{urlfor "OrdersController.Get"}}";
                        }
                    },
                    error: function () {
                        alert('Please try later.');
                    }
                });
            }

        });

    </script>
</body>
</html>
